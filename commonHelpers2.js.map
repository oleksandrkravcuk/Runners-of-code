{"version":3,"file":"commonHelpers2.js","sources":["../src/img/png/books.png","../src/js/shopping.js"],"sourcesContent":["export default \"__VITE_ASSET__662f7140__\"","import { fetchIdBook } from './fetch-api';\nimport amazon from '../img/png/amazon.png';\nimport book from '../img/png/book.png';\nimport ico from './../img/symbol-defs.svg';\nimport booksIcon from './../img/png/books.png'\n\nconst card = document.querySelector('.books-card');\nconst noBook = document.querySelector('.book-massage');\nconst shopping = document.querySelector('.header-shopping');\nconst home = document.querySelector('.header-home');\nlet id = null;\nlet bookCard;\n\nconst savedBooks = JSON.parse(localStorage.getItem(\"An_array_of_ID_books\"));\nlet caunter = savedBooks.length\n\nhome.classList.remove('active-button');\nshopping.classList.add('active-button');\n\n\nasync function markup() { \n  if (savedBooks && savedBooks.length > 0) {\n    for (const id of savedBooks) {\n      try {\n        const data = await fetchIdBook(id);\n        console.log(data);\n\n        const bookCard = `\n          <div class=\"wrrap\" data-book-id=\"${id}\">\n            <div class=\"img-container\">\n              <img class=\"book-img\" src=\"${data.book_image}\" alt=\"${data.title}\">\n            </div>\n            <div class=\"text-container\">\n              <h3 class=\"book-name\">${data.title}</h3>\n              <p class=\"list-name\">${data.list_name}</p>\n              <div class=\"description-container\">\n                ${data.description}\n              </div>\n              \n                <p class=\"author\">${data.author}</p>\n                <div class=\"link-wrap\">\n                <ul class=\"link-container\">\n                  <li class=\"amazon-item\">\n                    <a class=\"link-amazon\" href=\"${data.amazon_product_url}\" target = \"_blank\">\n                      <img class=\"link-amazon data-amazon-shopping\" src=\"${amazon}\" alt=\"\" width=\"32\" height=\"11\">\n                    </a>\n                  </li>\n                  <li class=\"book-item\">\n                    <a href=\"${data.buy_links[1].url}\" target = \"_blank\">\n                      <img class=\"link-book\" src=\"${book}\" alt=\"\" width=\"16\" height=\"16\">\n                    </a>\n                  </li>\n                </ul>\n              </div>\n              <div class=\"btn-container\">\n                <button class=\"btn-svg\">\n                 ${createSvg(ico)}                 \n                </button>\n              </div>\n            </div>\n          </div>`;\n\n        card.insertAdjacentHTML('beforeend', bookCard);\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  } if (!savedBooks.length) {\n    const bookMassage = `\n    <div class=\"book-masage\">\n      <p class=\"text-masage\">This page is empty, add some books and proceed to order.</p>\n        <img class=\"img-book-masage\" src=\"${booksIcon}\" alt=\"\">\n    </div>`;\n   noBook.innerHTML = bookMassage;\n  }\n}\n\nmarkup();\n\nconst btnSvgCollection = document.querySelectorAll('.btn-svg');\n\nfunction createSvg(ico) {\n  return `<svg class=\"icon-trash\" width=\"16\" height=\"16\">\n            <use href='${ico}#icon-trash'></use>\n          </svg>`;\n}\n\nbtnSvgCollection.forEach(btnSvg => {\n  btnSvg.insertAdjacentHTML('afterbegin', createSvg(ico));\n});\ncreateSvg(ico);\n\ncard.addEventListener('click', async (e) => {\n  caunter -= 1\n  const btn = e.target.closest('.btn-svg');\n  if (btn) {\n    const cardToRemove = btn.closest('.wrrap');\n    const idToRemove = cardToRemove.getAttribute('data-book-id');\n\n    cardToRemove.remove();\n\n    if (caunter === 0) {\n      const bookMassage = `\n      <div class=\"book-masage\">\n        <p class=\"text-masage\">This page is empty, add some books and proceed to order.</p>\n          <img class=\"img-book-masage\" src=\"${booksIcon}\" alt=\"\">\n      </div>`;\n     noBook.innerHTML = bookMassage;\n    }\n    \n    const updatedBookIds = JSON.parse(localStorage.getItem(\"An_array_of_ID_books\")).filter(id => id !== idToRemove);\n    localStorage.setItem(\"An_array_of_ID_books\", JSON.stringify(updatedBookIds));\n    \n    \n  }\n});"],"names":["booksIcon","card","noBook","shopping","home","savedBooks","caunter","markup","id","data","fetchIdBook","bookCard","amazon","book","createSvg","ico","error","bookMassage","btnSvgCollection","btnSvg","e","btn","cardToRemove","idToRemove","updatedBookIds"],"mappings":"yGAAA,MAAeA,EAAA,6CCMTC,EAAO,SAAS,cAAc,aAAa,EAC3CC,EAAS,SAAS,cAAc,eAAe,EAC/CC,EAAW,SAAS,cAAc,kBAAkB,EACpDC,EAAO,SAAS,cAAc,cAAc,EAI5CC,EAAa,KAAK,MAAM,aAAa,QAAQ,sBAAsB,CAAC,EAC1E,IAAIC,EAAUD,EAAW,OAEzBD,EAAK,UAAU,OAAO,eAAe,EACrCD,EAAS,UAAU,IAAI,eAAe,EAGtC,eAAeI,GAAS,CACtB,GAAIF,GAAcA,EAAW,OAAS,EACpC,UAAWG,KAAMH,EACf,GAAI,CACF,MAAMI,EAAO,MAAMC,EAAYF,CAAE,EACjC,QAAQ,IAAIC,CAAI,EAEhB,MAAME,EAAW;AAAA,6CACoBH;AAAA;AAAA,2CAEFC,EAAK,oBAAoBA,EAAK;AAAA;AAAA;AAAA,sCAGnCA,EAAK;AAAA,qCACNA,EAAK;AAAA;AAAA,kBAExBA,EAAK;AAAA;AAAA;AAAA,oCAGaA,EAAK;AAAA;AAAA;AAAA;AAAA,mDAIUA,EAAK;AAAA,2EACmBG;AAAA;AAAA;AAAA;AAAA,+BAI5CH,EAAK,UAAU,GAAG;AAAA,oDACGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAOjCC,EAAUC,CAAG;AAAA;AAAA;AAAA;AAAA,kBAMxBd,EAAK,mBAAmB,YAAaU,CAAQ,CAC9C,OAAQK,EAAP,CACA,QAAQ,MAAMA,CAAK,CACpB,CAEH,GAAI,CAACX,EAAW,OAAQ,CACxB,MAAMY,EAAc;AAAA;AAAA;AAAA,4CAGoBjB;AAAA,YAEzCE,EAAO,UAAYe,CACnB,CACH,CAEAV,IAEA,MAAMW,EAAmB,SAAS,iBAAiB,UAAU,EAE7D,SAASJ,EAAUC,EAAK,CACtB,MAAO;AAAA,yBACgBA;AAAA,iBAEzB,CAEAG,EAAiB,QAAQC,GAAU,CACjCA,EAAO,mBAAmB,aAAcL,EAAUC,CAAG,CAAC,CACxD,CAAC,EAGDd,EAAK,iBAAiB,QAAS,MAAOmB,GAAM,CAC1Cd,GAAW,EACX,MAAMe,EAAMD,EAAE,OAAO,QAAQ,UAAU,EACvC,GAAIC,EAAK,CACP,MAAMC,EAAeD,EAAI,QAAQ,QAAQ,EACnCE,EAAaD,EAAa,aAAa,cAAc,EAI3D,GAFAA,EAAa,OAAM,EAEfhB,IAAY,EAAG,CACjB,MAAMW,EAAc;AAAA;AAAA;AAAA,8CAGoBjB;AAAA,cAEzCE,EAAO,UAAYe,CACnB,CAED,MAAMO,EAAiB,KAAK,MAAM,aAAa,QAAQ,sBAAsB,CAAC,EAAE,OAAOhB,GAAMA,IAAOe,CAAU,EAC9G,aAAa,QAAQ,uBAAwB,KAAK,UAAUC,CAAc,CAAC,CAG5E,CACH,CAAC"}